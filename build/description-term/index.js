(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"chek/description-term"}'),n=window.wp.blockEditor,o=window.wp.compose,r=window.wp.i18n,c=window.wp.data,i=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{edit:function({attributes:t,setAttributes:s,clientId:l}){const{content:u}=t,d=function(t){const{getBlock:r,getBlockIndex:i,getBlockRootClientId:s}=(0,c.useSelect)(e=>e(n.store),[]),{insertBlock:l,removeBlock:u}=(0,c.useDispatch)(n.store);return(0,o.useRefEffect)(n=>{function o(n){if("Enter"!==n.key||n.shiftKey)return;const o=r(t);if(!o)return;const c=o.attributes.content;if(!c||"string"==typeof c&&""===c.trim()||"object"==typeof c&&""===(c.text||"").trim())return;n.preventDefault();const u=s(t),d=i(t),f=(0,e.createBlock)("chek/description-details",{});l(f,d+1,u,!0)}return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t])}(l),f=function(e){const{getBlock:t,getBlockIndex:r,getBlockRootClientId:i,getBlockOrder:s,getPreviousBlockClientId:l}=(0,c.useSelect)(e=>e(n.store),[]),{removeBlock:u,selectBlock:d}=(0,c.useDispatch)(n.store);return(0,o.useRefEffect)(n=>{function o(n){if("Backspace"!==n.key)return;const o=t(e);if(!o)return;const r=o.attributes.content;if(!(!r||"string"==typeof r&&""===r.trim()||"object"==typeof r&&""===(r.text||"").trim()))return;n.preventDefault();const c=i(e),f=l(e);if(u(e),0===s(c).filter(t=>t!==e).length&&c){const e=l(c);u(c),e&&d(e,-1)}else f&&d(f,-1)}return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[e])}(l),a=function(t,r){const{getBlock:i,getBlockIndex:s,getBlockRootClientId:l}=(0,c.useSelect)(e=>e(n.store),[]),{replaceBlock:u,selectBlock:d}=(0,c.useDispatch)(n.store);return(0,o.useRefEffect)(n=>{function o(o){if("Tab"!==o.key)return;if(o.shiftKey)return;if(!function(e){const t=e.ownerDocument.defaultView.getSelection();if(!t||0===t.rangeCount)return!1;if(!t.isCollapsed)return!1;const n=t.getRangeAt(0);if(0!==n.startOffset)return!1;let o=n.startContainer;for(;o&&o!==e;){const e=o.parentNode;if(!e)break;if(e.firstChild!==o)return!1;o=e}return!0}(n))return;o.preventDefault();const r=i(t);if(!r)return;const c=(0,e.createBlock)("chek/description-details",{content:r.attributes.content});u(t,c),d(c.clientId,0)}return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,r])}(l,"chek/description-term"),k=(0,n.useBlockProps)({ref:(0,o.useMergeRefs)([d,f,a])});return(0,i.jsx)("dt",{...k,children:(0,i.jsx)(n.RichText,{identifier:"content",value:u,onChange:e=>s({content:e}),placeholder:(0,r.__)("Term...","chek-description-list"),allowedFormats:["core/bold","core/italic","core/link","core/code","core/superscript","core/subscript"]})})},save:function({attributes:e}){const{content:t}=e,o=n.useBlockProps.save();return(0,i.jsx)("dt",{...o,children:(0,i.jsx)(n.RichText.Content,{value:t})})},transforms:{to:[{type:"block",blocks:["chek/description-details"],transform:({content:t})=>(0,e.createBlock)("chek/description-details",{content:t})}],from:[{type:"block",blocks:["chek/description-details"],transform:({content:t})=>(0,e.createBlock)("chek/description-term",{content:t})}]}})})();